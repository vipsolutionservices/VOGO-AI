/*! For license information please see vogo-chatbot.js.LICENSE.txt */
!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VogoChatbot=e():n.VogoChatbot=e()}(self,()=>(()=>{var n={993(n){n.exports={api:{baseUrl:"https://vogo.family/wp-json/vogo/v1",endpoints:{login:"/public/login_jwt/",predefinedQA:"/predefined_qa",searchKeyword:"/search_by_keyword",shopListAdd:"/shopListAddItem",shopListShow:"/shopListShowUserItems",agendaAdd:"/agendaAddItem",agendaShow:"/agendaShowUserItems"}},ui:{botName:"Kodee",position:"bottom-right",theme:"purple",defaultMessage:"Hello ðŸ‘‹ How can I help you today?"},languages:{default:"en",supported:["en","ro","it","fr","de"],autoDetect:!0},security:{useProxy:!0,proxyUrl:"http://localhost:3000/api/chatbot"}}},373(n,e,t){"use strict";t.d(e,{A:()=>s});var r=t(354),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([n.id,"/* src/ui/chatbot.css */\n\n/* Chat Bubble Button */\n#vogo-chat-bubble {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 60px;\n  height: 60px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 50%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 999999;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n#vogo-chat-bubble:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\n}\n\n#vogo-chat-bubble svg {\n  width: 30px;\n  height: 30px;\n  fill: white;\n}\n\n/* Chat Window */\n#vogo-chat-window {\n  position: fixed;\n  bottom: 90px;\n  right: 20px;\n  width: 380px;\n  height: 600px;\n  background: white;\n  border-radius: 16px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);\n  display: flex;\n  flex-direction: column;\n  z-index: 999998;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  transition: opacity 0.3s ease, transform 0.3s ease;\n}\n\n#vogo-chat-window.hidden {\n  display: none;\n  opacity: 0;\n  transform: scale(0.95);\n}\n\n/* Chat Header */\n.vogo-chat-header {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 20px;\n  border-radius: 16px 16px 0 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.vogo-chat-header h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.vogo-chat-header .close-btn {\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background 0.2s;\n}\n\n.vogo-chat-header .close-btn:hover {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n/* Language Selector */\n.vogo-language-selector {\n  display: flex;\n  gap: 8px;\n  margin-top: 10px;\n}\n\n.vogo-language-selector button {\n  background: rgba(255, 255, 255, 0.2);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  color: white;\n  padding: 4px 10px;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 12px;\n  transition: all 0.2s;\n}\n\n.vogo-language-selector button.active {\n  background: white;\n  color: #667eea;\n}\n\n/* Messages Container */\n.vogo-chat-messages {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  background: #f7f7f8;\n}\n\n/* Bot Message */\n.vogo-bot-message {\n  background: white;\n  padding: 12px 16px;\n  border-radius: 12px 12px 12px 4px;\n  margin-bottom: 16px;\n  max-width: 85%;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n  animation: slideIn 0.3s ease;\n}\n\n/* User Message */\n.vogo-user-message {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 12px 16px;\n  border-radius: 12px 12px 4px 12px;\n  margin-bottom: 16px;\n  max-width: 85%;\n  margin-left: auto;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n  animation: slideIn 0.3s ease;\n}\n\n/* Predefined Questions (Buttons) */\n.vogo-predefined-questions {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-top: 12px;\n}\n\n.vogo-question-btn {\n  background: white;\n  border: 1px solid #e5e7eb;\n  padding: 12px 16px;\n  border-radius: 8px;\n  text-align: left;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n}\n\n.vogo-question-btn:hover {\n  background: #f9fafb;\n  border-color: #667eea;\n  transform: translateX(4px);\n}\n\n.vogo-question-btn svg {\n  width: 16px;\n  height: 16px;\n  fill: #667eea;\n  flex-shrink: 0;\n}\n\n/* Typing Indicator */\n.vogo-typing-indicator {\n  display: flex;\n  gap: 4px;\n  padding: 12px 16px;\n  background: white;\n  border-radius: 12px 12px 12px 4px;\n  width: fit-content;\n  margin-bottom: 16px;\n}\n\n.vogo-typing-indicator span {\n  width: 8px;\n  height: 8px;\n  background: #9ca3af;\n  border-radius: 50%;\n  animation: bounce 1.4s infinite ease-in-out;\n}\n\n.vogo-typing-indicator span:nth-child(1) {\n  animation-delay: -0.32s;\n}\n\n.vogo-typing-indicator span:nth-child(2) {\n  animation-delay: -0.16s;\n}\n\n/* Chat Input */\n.vogo-chat-input {\n  padding: 16px 20px;\n  background: white;\n  border-top: 1px solid #e5e7eb;\n  display: flex;\n  gap: 8px;\n  border-radius: 0 0 16px 16px;\n}\n\n.vogo-chat-input input {\n  flex: 1;\n  border: 1px solid #e5e7eb;\n  padding: 10px 14px;\n  border-radius: 20px;\n  font-size: 14px;\n  outline: none;\n  transition: border-color 0.2s;\n}\n\n.vogo-chat-input input:focus {\n  border-color: #667eea;\n}\n\n.vogo-chat-input button {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 20px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: transform 0.2s;\n}\n\n.vogo-chat-input button:hover {\n  transform: scale(1.05);\n}\n\n.vogo-chat-input button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n/* Animations */\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes bounce {\n  0%, 80%, 100% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n\n/* Mobile Responsive */\n@media (max-width: 768px) {\n  #vogo-chat-window {\n    width: calc(100% - 40px);\n    height: calc(100% - 120px);\n    bottom: 70px;\n    right: 20px;\n    left: 20px;\n  }\n}","",{version:3,sources:["webpack://./src/ui/chatbot.css"],names:[],mappings:"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",sourcesContent:["/* src/ui/chatbot.css */\r\n\r\n/* Chat Bubble Button */\r\n#vogo-chat-bubble {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  width: 60px;\r\n  height: 60px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  z-index: 999999;\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n#vogo-chat-bubble:hover {\r\n  transform: scale(1.1);\r\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n#vogo-chat-bubble svg {\r\n  width: 30px;\r\n  height: 30px;\r\n  fill: white;\r\n}\r\n\r\n/* Chat Window */\r\n#vogo-chat-window {\r\n  position: fixed;\r\n  bottom: 90px;\r\n  right: 20px;\r\n  width: 380px;\r\n  height: 600px;\r\n  background: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 999998;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n  transition: opacity 0.3s ease, transform 0.3s ease;\r\n}\r\n\r\n#vogo-chat-window.hidden {\r\n  display: none;\r\n  opacity: 0;\r\n  transform: scale(0.95);\r\n}\r\n\r\n/* Chat Header */\r\n.vogo-chat-header {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  padding: 20px;\r\n  border-radius: 16px 16px 0 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.vogo-chat-header h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.vogo-chat-header .close-btn {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: none;\r\n  color: white;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: background 0.2s;\r\n}\r\n\r\n.vogo-chat-header .close-btn:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n/* Language Selector */\r\n.vogo-language-selector {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.vogo-language-selector button {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n  color: white;\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.vogo-language-selector button.active {\r\n  background: white;\r\n  color: #667eea;\r\n}\r\n\r\n/* Messages Container */\r\n.vogo-chat-messages {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 20px;\r\n  background: #f7f7f8;\r\n}\r\n\r\n/* Bot Message */\r\n.vogo-bot-message {\r\n  background: white;\r\n  padding: 12px 16px;\r\n  border-radius: 12px 12px 12px 4px;\r\n  margin-bottom: 16px;\r\n  max-width: 85%;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n/* User Message */\r\n.vogo-user-message {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  padding: 12px 16px;\r\n  border-radius: 12px 12px 4px 12px;\r\n  margin-bottom: 16px;\r\n  max-width: 85%;\r\n  margin-left: auto;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n/* Predefined Questions (Buttons) */\r\n.vogo-predefined-questions {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin-top: 12px;\r\n}\r\n\r\n.vogo-question-btn {\r\n  background: white;\r\n  border: 1px solid #e5e7eb;\r\n  padding: 12px 16px;\r\n  border-radius: 8px;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 14px;\r\n}\r\n\r\n.vogo-question-btn:hover {\r\n  background: #f9fafb;\r\n  border-color: #667eea;\r\n  transform: translateX(4px);\r\n}\r\n\r\n.vogo-question-btn svg {\r\n  width: 16px;\r\n  height: 16px;\r\n  fill: #667eea;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* Typing Indicator */\r\n.vogo-typing-indicator {\r\n  display: flex;\r\n  gap: 4px;\r\n  padding: 12px 16px;\r\n  background: white;\r\n  border-radius: 12px 12px 12px 4px;\r\n  width: fit-content;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.vogo-typing-indicator span {\r\n  width: 8px;\r\n  height: 8px;\r\n  background: #9ca3af;\r\n  border-radius: 50%;\r\n  animation: bounce 1.4s infinite ease-in-out;\r\n}\r\n\r\n.vogo-typing-indicator span:nth-child(1) {\r\n  animation-delay: -0.32s;\r\n}\r\n\r\n.vogo-typing-indicator span:nth-child(2) {\r\n  animation-delay: -0.16s;\r\n}\r\n\r\n/* Chat Input */\r\n.vogo-chat-input {\r\n  padding: 16px 20px;\r\n  background: white;\r\n  border-top: 1px solid #e5e7eb;\r\n  display: flex;\r\n  gap: 8px;\r\n  border-radius: 0 0 16px 16px;\r\n}\r\n\r\n.vogo-chat-input input {\r\n  flex: 1;\r\n  border: 1px solid #e5e7eb;\r\n  padding: 10px 14px;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  outline: none;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.vogo-chat-input input:focus {\r\n  border-color: #667eea;\r\n}\r\n\r\n.vogo-chat-input button {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.vogo-chat-input button:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.vogo-chat-input button:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* Animations */\r\n@keyframes slideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes bounce {\r\n  0%, 80%, 100% {\r\n    transform: scale(0);\r\n  }\r\n  40% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n/* Mobile Responsive */\r\n@media (max-width: 768px) {\r\n  #vogo-chat-window {\r\n    width: calc(100% - 40px);\r\n    height: calc(100% - 120px);\r\n    bottom: 70px;\r\n    right: 20px;\r\n    left: 20px;\r\n  }\r\n}"],sourceRoot:""}]);const s=a},314(n){"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<n.length;u++){var l=[].concat(n[u]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},354(n){"use strict";n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},72(n){"use strict";var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var i={},a=[],s=0;s<n.length;s++){var c=n[s],u=r.base?c[0]+r.base:c[0],l=i[u]||0,p="".concat(u," ").concat(l);i[u]=l+1;var d=t(p),A={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(A);else{var f=o(A,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=t(i[a]);e[s].references--}for(var c=r(n,o),u=0;u<i.length;u++){var l=t(i[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=c}}},659(n){"use strict";var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540(n){"use strict";n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56(n,e,t){"use strict";n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825(n){"use strict";n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113(n){"use strict";n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return n[r](i,i.exports,t),i.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r={};return(()=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(e)}function e(){var n,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function s(e,r,i,a){var s=r&&r.prototype instanceof u?r:u,l=Object.create(s.prototype);return o(l,"_invoke",function(e,r,o){var i,a,s,u=0,l=o||[],p=!1,d={p:0,n:0,v:n,a:A,f:A.bind(n,4),d:function(e,t){return i=e,a=0,s=n,d.n=t,c}};function A(e,r){for(a=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,i=l[t],A=d.p,f=i[2];e>3?(o=f===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=n):i[0]<=A&&((o=e<2&&A<i[1])?(a=0,d.v=r,d.n=i[1]):A<f&&(o=e<3||i[0]>r||r>f)&&(i[4]=e,i[5]=r,d.n=f,a=0))}if(o||e>1)return c;throw p=!0,r}return function(o,l,f){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&A(l,f),a=l,s=f;(t=a<2?n:s)||!p;){i||(a?a<3?(a>1&&(d.n=-1),A(a,s)):d.n=s:d.v=s);try{if(u=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=n}else if((t=(p=d.n<0)?s:e.call(r,d))!==c)break}catch(e){i=n,a=1,s=e}finally{u=1}}return{value:t,done:p}}}(e,i,a),!0),l}var c={};function u(){}function l(){}function p(){}t=Object.getPrototypeOf;var d=[][i]?t(t([][i]())):(o(t={},i,function(){return this}),t),A=p.prototype=u.prototype=Object.create(d);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,o(n,a,"GeneratorFunction")),n.prototype=Object.create(A),n}return l.prototype=p,o(A,"constructor",p),o(p,"constructor",l),l.displayName="GeneratorFunction",o(p,a,"GeneratorFunction"),o(A),o(A,a,"Generator"),o(A,i,function(){return this}),o(A,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:f}})()}function o(n,e,t,r){var i=Object.defineProperty;try{i({},"",{})}catch(n){i=0}o=function(n,e,t,r){function a(e,t){o(n,e,function(n){return this._invoke(e,t,n)})}e?i?i(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(a("next",0),a("throw",1),a("return",2))},o(n,e,t,r)}function i(n,e,t,r,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void t(n)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(n){return function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function s(n){i(a,r,o,s,c,"next",n)}function c(n){i(a,r,o,s,c,"throw",n)}s(void 0)})}}function s(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,c(r.key),r)}}function c(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}t.d(r,{default:()=>nn});const u=function(){return n=function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.proxyUrl=e},t=[{key:"call",value:(u=a(e().m(function n(t){var r,o,i,a=arguments;return e().w(function(n){for(;;)switch(n.p=n.n){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n.p=1,n.n=2,fetch(this.proxyUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,data:r})});case 2:if((o=n.v).ok){n.n=3;break}throw new Error("API Error: ".concat(o.statusText));case 3:return n.n=4,o.json();case 4:return n.a(2,n.v);case 5:throw n.p=5,i=n.v,console.error("API call failed [".concat(t,"]:"),i),i;case 6:return n.a(2)}},n,this,[[1,5]])})),function(n){return u.apply(this,arguments)})},{key:"getPredefinedQuestions",value:(c=a(e().m(function n(){var t,r=arguments;return e().w(function(n){for(;;)if(0===n.n)return t=r.length>0&&void 0!==r[0]?r[0]:null,n.a(2,this.call("getPredefinedQA",{parent_id:t}))},n,this)})),function(){return c.apply(this,arguments)})},{key:"searchByKeyword",value:(i=a(e().m(function n(t){var r,o=arguments;return e().w(function(n){for(;;)if(0===n.n)return r=o.length>1&&void 0!==o[1]?o[1]:"",n.a(2,this.call("searchKeyword",{searchText:t,location:r}))},n,this)})),function(n){return i.apply(this,arguments)})},{key:"addToShoppingList",value:(o=a(e().m(function n(t){return e().w(function(n){for(;;)if(0===n.n)return n.a(2,this.call("shopListAdd",t))},n,this)})),function(n){return o.apply(this,arguments)})},{key:"addToAgenda",value:(r=a(e().m(function n(t){return e().w(function(n){for(;;)if(0===n.n)return n.a(2,this.call("agendaAdd",t))},n,this)})),function(n){return r.apply(this,arguments)})}],t&&s(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,o,i,c,u}();function l(n){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},l(n)}function p(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return d(u,"_invoke",function(t,r,o){var i,s,c,u=0,l=o||[],p=!1,d={p:0,n:0,v:n,a:A,f:A.bind(n,4),d:function(e,t){return i=e,s=0,c=n,d.n=t,a}};function A(t,r){for(s=t,c=r,e=0;!p&&u&&!o&&e<l.length;e++){var o,i=l[e],A=d.p,f=i[2];t>3?(o=f===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=n):i[0]<=A&&((o=t<2&&A<i[1])?(s=0,d.v=r,d.n=i[1]):A<f&&(o=t<3||i[0]>r||r>f)&&(i[4]=t,i[5]=r,d.n=f,s=0))}if(o||t>1)return a;throw p=!0,r}return function(o,l,f){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&A(l,f),s=l,c=f;(e=s<2?n:c)||!p;){i||(s?s<3?(s>1&&(d.n=-1),A(s,c)):d.n=c:d.v=c);try{if(u=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=n}else if((e=(p=d.n<0)?c:t.call(r,d))!==a)break}catch(e){i=n,s=1,c=e}finally{u=1}}return{value:e,done:p}}}(t,o,i),!0),u}var a={};function s(){}function c(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(d(e={},r,function(){return this}),e),A=u.prototype=s.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,d(n,o,"GeneratorFunction")),n.prototype=Object.create(A),n}return c.prototype=u,d(A,"constructor",u),d(u,"constructor",c),c.displayName="GeneratorFunction",d(u,o,"GeneratorFunction"),d(A),d(A,o,"Generator"),d(A,r,function(){return this}),d(A,"toString",function(){return"[object Generator]"}),(p=function(){return{w:i,m:f}})()}function d(n,e,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}d=function(n,e,t,r){function i(e,t){d(n,e,function(n){return this._invoke(e,t,n)})}e?o?o(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(i("next",0),i("throw",1),i("return",2))},d(n,e,t,r)}function A(n,e,t,r,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void t(n)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(n){return function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(n){A(i,r,o,a,s,"next",n)}function s(n){A(i,r,o,a,s,"throw",n)}a(void 0)})}}function g(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,h(r.key),r)}}function h(n){var e=function(n){if("object"!=l(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=l(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==l(e)?e:e+""}const b=function(){return n=function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.apiService=e,this.conversationStack=[]},e=[{key:"handleMessage",value:(i=f(p().m(function n(e){var t,r,o;return p().w(function(n){for(;;)switch(n.p=n.n){case 0:if(t=e.type,r=e.data,n.p=1,"question"!==t){n.n=3;break}return n.n=2,this.handlePredefinedQuestion(r);case 2:case 4:return n.a(2,n.v);case 3:if("text"!==t){n.n=5;break}return n.n=4,this.handleFreeText(r.text);case 5:n.n=7;break;case 6:return n.p=6,o=n.v,console.error("Router error:",o),n.a(2,{type:"error",message:"Sorry, something went wrong. Please try again."});case 7:return n.a(2)}},n,this,[[1,6]])})),function(n){return i.apply(this,arguments)})},{key:"handlePredefinedQuestion",value:(o=f(p().m(function n(e){var t;return p().w(function(n){for(;;)switch(n.n){case 0:if(this.conversationStack.push(e),!e.link||"null"===e.link){n.n=1;break}return n.a(2,{type:"link",text:e.text,link:e.link});case 1:return n.n=2,this.apiService.getPredefinedQuestions(e.id);case 2:if(!((t=n.v)&&t.data&&t.data.length>0)){n.n=3;break}return n.a(2,{type:"questions",questions:t.data});case 3:return n.a(2,{type:"text",text:e.answer||"Thank you for your question!"});case 4:return n.a(2)}},n,this)})),function(n){return o.apply(this,arguments)})},{key:"handleFreeText",value:(r=f(p().m(function n(e){return p().w(function(n){for(;;)if(0===n.n)return n.a(2,{type:"text",text:"Free text handling will be implemented in Phase B. For now, please select from the options above."})},n)})),function(n){return r.apply(this,arguments)})},{key:"getInitialQuestions",value:(t=f(p().m(function n(){var e;return p().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,this.apiService.getPredefinedQuestions(null);case 1:return e=n.v,n.a(2,e.data||[])}},n,this)})),function(){return t.apply(this,arguments)})},{key:"clearHistory",value:function(){this.conversationStack=[]}}],e&&g(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e,t,r,o,i}();function v(n){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},v(n)}function y(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,m(r.key),r)}}function m(n){var e=function(n){if("object"!=v(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=v(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==v(e)?e:e+""}var C={en:{greeting:"Hello ðŸ‘‹",subGreeting:"How can I help you today?",inputPlaceholder:"Ask Kodee anything...",send:"Send",close:"Close",typingIndicator:"Kodee is typing...",errorMessage:"Sorry, something went wrong. Please try again.",noResults:"No results found.",fallbackMessage:"I'm sorry, I didn't understand that. Please try rephrasing or select from the options above."},ro:{greeting:"BunÄƒ ðŸ‘‹",subGreeting:"Cum vÄƒ pot ajuta astÄƒzi?",inputPlaceholder:"ÃŽntreabÄƒ-l pe Kodee orice...",send:"Trimite",close:"ÃŽnchide",typingIndicator:"Kodee scrie...",errorMessage:"Ne pare rÄƒu, ceva nu a mers bine. VÄƒ rugÄƒm Ã®ncercaÈ›i din nou.",noResults:"Nu s-au gÄƒsit rezultate.",fallbackMessage:"ÃŽmi pare rÄƒu, nu am Ã®nÈ›eles. Te rog reformuleazÄƒ sau alege din opÈ›iunile de mai sus."},it:{greeting:"Ciao ðŸ‘‹",subGreeting:"Come posso aiutarti oggi?",inputPlaceholder:"Chiedi a Kodee qualsiasi cosa...",send:"Invia",close:"Chiudi",typingIndicator:"Kodee sta scrivendo...",errorMessage:"Spiacenti, qualcosa Ã¨ andato storto. Riprova.",noResults:"Nessun risultato trovato.",fallbackMessage:"Mi dispiace, non ho capito. Prova a riformulare o scegli dalle opzioni sopra."},fr:{greeting:"Bonjour ðŸ‘‹",subGreeting:"Comment puis-je vous aider aujourd'hui?",inputPlaceholder:"Demandez Ã  Kodee n'importe quoi...",send:"Envoyer",close:"Fermer",typingIndicator:"Kodee Ã©crit...",errorMessage:"DÃ©solÃ©, quelque chose s'est mal passÃ©. Veuillez rÃ©essayer.",noResults:"Aucun rÃ©sultat trouvÃ©.",fallbackMessage:"DÃ©solÃ©, je n'ai pas compris. Veuillez reformuler ou choisir parmi les options ci-dessus."},de:{greeting:"Hallo ðŸ‘‹",subGreeting:"Wie kann ich Ihnen heute helfen?",inputPlaceholder:"Fragen Sie Kodee etwas...",send:"Senden",close:"SchlieÃŸen",typingIndicator:"Kodee schreibt...",errorMessage:"Entschuldigung, etwas ist schief gelaufen. Bitte versuchen Sie es erneut.",noResults:"Keine Ergebnisse gefunden.",fallbackMessage:"Entschuldigung, ich habe das nicht verstanden. Bitte formulieren Sie um oder wÃ¤hlen Sie aus den obigen Optionen."}};const x=function(){return n=function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.currentLang=e,this.translations=C},(e=[{key:"setLanguage",value:function(n){this.translations[n]&&(this.currentLang=n)}},{key:"t",value:function(n){return this.translations[this.currentLang][n]||n}},{key:"getCurrentLanguage",value:function(){return this.currentLang}},{key:"getSupportedLanguages",value:function(){return Object.keys(this.translations)}}])&&y(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e}();function E(n){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},E(n)}function B(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,w(r.key),r)}}function w(n){var e=function(n){if("object"!=E(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=E(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==E(e)?e:e+""}const k=function(){return n=function n(e,t){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.containerId=e,this.i18n=t,this.isOpen=!1,this.messageHandlers=[],this.init()},e=[{key:"init",value:function(){this.injectHTML(),this.bubble=document.getElementById("vogo-chat-bubble"),this.window=document.getElementById("vogo-chat-window"),this.messagesContainer=document.getElementById("vogo-chat-messages"),this.input=document.getElementById("vogo-input"),this.sendBtn=document.getElementById("vogo-send-btn"),this.closeBtn=document.getElementById("vogo-close-btn"),this.setupEventListeners(),this.setupLanguageSelector(),this.showGreeting()}},{key:"injectHTML",value:function(){var n=document.getElementById(this.containerId)||document.body,e=document.createElement("link");e.rel="stylesheet",e.href="vogo-chatbot.css",document.head.appendChild(e);var t='\n      <div id="vogo-chat-bubble">\n        <svg viewBox="0 0 24 24">\n          <path d="M12 2C6.48 2 2 6.48 2 12c0 1.54.36 3 .97 4.29L2 22l5.71-.97C9 21.64 10.46 22 12 22c5.52 0 10-4.48 10-10S17.52 2 12 2zm0 18c-1.38 0-2.68-.33-3.83-.91l-.27-.15-2.98.51.51-2.98-.15-.27C4.33 14.68 4 13.38 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8-3.59 8-8 8z"/>\n        </svg>\n      </div>\n\n      <div id="vogo-chat-window" class="hidden">\n        <div class="vogo-chat-header">\n          <div>\n            <h3 id="vogo-bot-name">Kodee</h3>\n            <div class="vogo-language-selector" id="vogo-language-selector"></div>\n          </div>\n          <button class="close-btn" id="vogo-close-btn">Ã—</button>\n        </div>\n\n        <div class="vogo-chat-messages" id="vogo-chat-messages"></div>\n\n        <div class="vogo-chat-input">\n          <input \n            type="text" \n            id="vogo-input" \n            placeholder="'.concat(this.i18n.t("inputPlaceholder"),'"\n          />\n          <button id="vogo-send-btn">').concat(this.i18n.t("send"),"</button>\n        </div>\n      </div>\n    ");n.insertAdjacentHTML("beforeend",t)}},{key:"setupEventListeners",value:function(){var n=this;this.bubble.addEventListener("click",function(){return n.toggleChat()}),this.closeBtn.addEventListener("click",function(){return n.closeChat()}),this.sendBtn.addEventListener("click",function(){return n.sendMessage()}),this.input.addEventListener("keypress",function(e){"Enter"===e.key&&n.sendMessage()})}},{key:"setupLanguageSelector",value:function(){var n=this,e=document.getElementById("vogo-language-selector");[{code:"en",label:"EN"},{code:"ro",label:"RO"},{code:"it",label:"IT"},{code:"fr",label:"FR"},{code:"de",label:"DE"}].forEach(function(t){var r=document.createElement("button");r.textContent=t.label,r.dataset.lang=t.code,t.code===n.i18n.getCurrentLanguage()&&r.classList.add("active"),r.addEventListener("click",function(){return n.changeLanguage(t.code)}),e.appendChild(r)})}},{key:"changeLanguage",value:function(n){this.i18n.setLanguage(n),document.querySelectorAll(".vogo-language-selector button").forEach(function(e){e.classList.toggle("active",e.dataset.lang===n)}),this.input.placeholder=this.i18n.t("inputPlaceholder"),this.sendBtn.textContent=this.i18n.t("send"),this.notifyLanguageChange(n)}},{key:"toggleChat",value:function(){this.isOpen?this.closeChat():this.openChat()}},{key:"openChat",value:function(){this.window.classList.remove("hidden"),this.isOpen=!0,this.input.focus()}},{key:"closeChat",value:function(){this.window.classList.add("hidden"),this.isOpen=!1}},{key:"showGreeting",value:function(){var n='\n      <div class="vogo-bot-message">\n        <strong>'.concat(this.i18n.t("greeting"),"</strong><br>\n        ").concat(this.i18n.t("subGreeting"),"\n      </div>\n    ");this.messagesContainer.innerHTML=n}},{key:"addBotMessage",value:function(n){var e=document.createElement("div");e.className="vogo-bot-message",e.textContent=n,this.messagesContainer.appendChild(e),this.scrollToBottom()}},{key:"addUserMessage",value:function(n){var e=document.createElement("div");e.className="vogo-user-message",e.textContent=n,this.messagesContainer.appendChild(e),this.scrollToBottom()}},{key:"showTypingIndicator",value:function(){var n=document.createElement("div");n.className="vogo-typing-indicator",n.id="vogo-typing",n.innerHTML="<span></span><span></span><span></span>",this.messagesContainer.appendChild(n),this.scrollToBottom()}},{key:"hideTypingIndicator",value:function(){var n=document.getElementById("vogo-typing");n&&n.remove()}},{key:"showPredefinedQuestions",value:function(n){var e=this,t=document.createElement("div");t.className="vogo-predefined-questions",n.forEach(function(n){var r=document.createElement("button");r.className="vogo-question-btn",r.innerHTML='\n        <svg viewBox="0 0 24 24">\n          <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>\n        </svg>\n        <span>'.concat(n.text,"</span>\n      "),r.addEventListener("click",function(){e.handleQuestionClick(n)}),t.appendChild(r)}),this.messagesContainer.appendChild(t),this.scrollToBottom()}},{key:"handleQuestionClick",value:function(n){this.addUserMessage(n.text),this.messageHandlers.forEach(function(e){e({type:"question",data:n})})}},{key:"sendMessage",value:function(){var n=this.input.value.trim();n&&(this.addUserMessage(n),this.input.value="",this.messageHandlers.forEach(function(e){e({type:"text",data:{text:n}})}))}},{key:"onMessage",value:function(n){this.messageHandlers.push(n)}},{key:"onLanguageChange",value:function(n){this.languageChangeHandler=n}},{key:"notifyLanguageChange",value:function(n){this.languageChangeHandler&&this.languageChangeHandler(n)}},{key:"scrollToBottom",value:function(){this.messagesContainer.scrollTop=this.messagesContainer.scrollHeight}},{key:"clearMessages",value:function(){this.messagesContainer.innerHTML="",this.showGreeting()}}],e&&B(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e}();var j=t(993),S=t.n(j);function P(n){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},P(n)}function O(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return I(u,"_invoke",function(t,r,o){var i,s,c,u=0,l=o||[],p=!1,d={p:0,n:0,v:n,a:A,f:A.bind(n,4),d:function(e,t){return i=e,s=0,c=n,d.n=t,a}};function A(t,r){for(s=t,c=r,e=0;!p&&u&&!o&&e<l.length;e++){var o,i=l[e],A=d.p,f=i[2];t>3?(o=f===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=n):i[0]<=A&&((o=t<2&&A<i[1])?(s=0,d.v=r,d.n=i[1]):A<f&&(o=t<3||i[0]>r||r>f)&&(i[4]=t,i[5]=r,d.n=f,s=0))}if(o||t>1)return a;throw p=!0,r}return function(o,l,f){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&A(l,f),s=l,c=f;(e=s<2?n:c)||!p;){i||(s?s<3?(s>1&&(d.n=-1),A(s,c)):d.n=c:d.v=c);try{if(u=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=n}else if((e=(p=d.n<0)?c:t.call(r,d))!==a)break}catch(e){i=n,s=1,c=e}finally{u=1}}return{value:e,done:p}}}(t,o,i),!0),u}var a={};function s(){}function c(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(I(e={},r,function(){return this}),e),p=u.prototype=s.prototype=Object.create(l);function d(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,I(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return c.prototype=u,I(p,"constructor",u),I(u,"constructor",c),c.displayName="GeneratorFunction",I(u,o,"GeneratorFunction"),I(p),I(p,o,"Generator"),I(p,r,function(){return this}),I(p,"toString",function(){return"[object Generator]"}),(O=function(){return{w:i,m:d}})()}function I(n,e,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}I=function(n,e,t,r){function i(e,t){I(n,e,function(n){return this._invoke(e,t,n)})}e?o?o(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(i("next",0),i("throw",1),i("return",2))},I(n,e,t,r)}function T(n,e,t,r,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void t(n)}s.done?e(c):Promise.resolve(c).then(r,o)}function M(n){return function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(n){T(i,r,o,a,s,"next",n)}function s(n){T(i,r,o,a,s,"throw",n)}a(void 0)})}}function L(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function q(n,e,t){return(e=z(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,z(r.key),r)}}function z(n){var e=function(n){if("object"!=P(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=P(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==P(e)?e:e+""}var U=function(){return n=function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.options=function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?L(Object(t),!0).forEach(function(e){q(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}({containerId:e.containerId||"vogo-chatbot-container",language:e.language||S().languages.default,proxyUrl:e.proxyUrl||S().security.proxyUrl},e),this.init()},e=[{key:"init",value:(i=M(O().m(function n(){var e,t=this;return O().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,this.i18n=new x(this.options.language),this.ui=new k(this.options.containerId,this.i18n),this.apiService=new u(this.options.proxyUrl),this.router=new b(this.apiService),this.ui.onMessage(function(){var n=M(O().m(function n(e){return O().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,t.handleMessage(e);case 1:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}()),this.ui.onLanguageChange(function(){var n=M(O().m(function n(e){return O().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,t.handleLanguageChange(e);case 1:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}()),n.n=1,this.loadInitialQuestions();case 1:console.log("âœ… Vogo Chatbot initialized successfully"),n.n=3;break;case 2:n.p=2,e=n.v,console.error("âŒ Chatbot initialization failed:",e);case 3:return n.a(2)}},n,this,[[0,2]])})),function(){return i.apply(this,arguments)})},{key:"loadInitialQuestions",value:(o=M(O().m(function n(){var e,t;return O().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,this.ui.showTypingIndicator(),n.n=1,this.router.getInitialQuestions();case 1:e=n.v,this.ui.hideTypingIndicator(),this.ui.showPredefinedQuestions(e),n.n=3;break;case 2:n.p=2,t=n.v,this.ui.hideTypingIndicator(),this.ui.addBotMessage(this.i18n.t("errorMessage")),console.error("Error loading initial questions:",t);case 3:return n.a(2)}},n,this,[[0,2]])})),function(){return o.apply(this,arguments)})},{key:"handleMessage",value:(r=M(O().m(function n(e){var t,r,o;return O().w(function(n){for(;;)switch(n.p=n.n){case 0:return this.ui.showTypingIndicator(),n.p=1,n.n=2,this.router.handleMessage(e);case 2:t=n.v,this.ui.hideTypingIndicator(),r=t.type,n.n="questions"===r?3:"text"===r?4:"link"===r?5:"error"===r?6:7;break;case 3:return this.ui.showPredefinedQuestions(t.questions),n.a(3,7);case 4:return this.ui.addBotMessage(t.text),n.a(3,7);case 5:return this.ui.addBotMessage("Opening: ".concat(t.link)),window.open(t.link,"_blank"),n.a(3,7);case 6:return this.ui.addBotMessage(t.message),n.a(3,7);case 7:n.n=9;break;case 8:n.p=8,o=n.v,this.ui.hideTypingIndicator(),this.ui.addBotMessage(this.i18n.t("errorMessage")),console.error("Message handling error:",o);case 9:return n.a(2)}},n,this,[[1,8]])})),function(n){return r.apply(this,arguments)})},{key:"handleLanguageChange",value:(t=M(O().m(function n(e){return O().w(function(n){for(;;)switch(n.n){case 0:return this.ui.clearMessages(),n.n=1,this.loadInitialQuestions();case 1:return n.a(2)}},n,this)})),function(n){return t.apply(this,arguments)})},{key:"open",value:function(){this.ui.openChat()}},{key:"close",value:function(){this.ui.closeChat()}},{key:"destroy",value:function(){this.ui&&this.ui.clearMessages(),console.log("Chatbot destroyed")}}],e&&Y(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e,t,r,o,i}();window.VogoChatbot=U;const D=U;var Q=t(72),G=t.n(Q),_=t(825),H=t.n(_),F=t(659),R=t.n(F),W=t(56),N=t.n(W),Z=t(540),K=t.n(Z),V=t(113),X=t.n(V),J=t(373),$={};$.styleTagTransform=X(),$.setAttributes=N(),$.insert=R().bind(null,"head"),$.domAPI=H(),$.insertStyleElement=K(),G()(J.A,$),J.A&&J.A.locals&&J.A.locals,document.addEventListener("DOMContentLoaded",function(){var n=document.currentScript||document.querySelector('script[src*="vogo-chatbot"]');"false"!==(null==n?void 0:n.getAttribute("data-auto-init"))&&new D({containerId:"vogo-chatbot-root",language:(null==n?void 0:n.getAttribute("data-lang"))||"en",proxyUrl:(null==n?void 0:n.getAttribute("data-proxy-url"))||"http://localhost:3000/api/chatbot"})});const nn=D})(),r.default})());
//# sourceMappingURL=vogo-chatbot.js.map